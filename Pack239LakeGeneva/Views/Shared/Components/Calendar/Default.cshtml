@*
  For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model CalendarViewModel

@{
}

@if (Model != null)
{
  <hr />
  <p class="text-center">Filter Calendars</p>
  <div class="row">
    @foreach (var calendar in Model.calendars)
    {
      if (!calendar.Summary.Equals("Pack", StringComparison.OrdinalIgnoreCase))
      {
        <span class="calendarCheckbox col-6 col-sm-4 col-md-3 col-lg-2 col-xl">
          <input id="@calendar.Summary.Replace(" ", "")" name="@calendar.Summary.Replace(" ", "")" value="@calendar.Summary" type="checkbox" checked="checked" aria-label="Checkbox for @calendar.Summary">
          <label for="@calendar.Summary.Replace(" ", "")" class="@calendar.Summary.Replace(" ", "")">@calendar.Summary</label>
        </span>
      }
    }
  </div>

  <hr />

  foreach (var calendarEvent in Model.calendarEvents)
  {
    <div class="calendarEvent d-flex @calendarEvent.Calendar.Replace(" ", "")">
      <div class="eventDate text-center float-left align-content-center">
        <span class="month w-100 float-left">@calendarEvent.Start.ToString("MMM")</span>
        <span class="day">@calendarEvent.Start.ToString("dd")</span>
      </div>
      <div class="eventDescription">
        <span class="summary">@calendarEvent.Summary</span>
        <span class="time d-flex">@calendarEvent.Start.ToString("h:mm")@(calendarEvent.End != null ? " - " + @calendarEvent.End.ToString("h:mm") : "")</span>
        <a href="@calendarEvent.MapUrl" target="_blank">
          <span class="location short float-left">@calendarEvent.ShortLocation</span>
          <span class="location float-left">@calendarEvent.Location</span>
        </a>
      </div>
      <span class="calendar" tooltip="@calendarEvent.Calendar" style="background-color: @calendarEvent.EventColor;"></span>
    </div>
  }
}

<hr />

<p class="text-center">Sync Calendars</p>
<div class="row">
  @foreach (var calendar in Model.calendars)
  {
    <span class="calendarSync col-6 col-sm-4 col-md-3 col-lg-2 col-xl">
      <a href="@calendar.ShareUrl" target="_blank" class="d-flex justify-content-center">@calendar.Summary</a>
    </span>
  }
</div>

<script type="text/javascript">
  WireCalendarEvents();
</script>